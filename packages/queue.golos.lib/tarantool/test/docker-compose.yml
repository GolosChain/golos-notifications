version: "3"

services:
  golos.queue.tarantool:
    # name: golos.queue.tarantool
    image: tarantool/tarantool:latest
    # command: tarantoolctl start app
    command: tarantool /usr/local/etc/tarantool/instances.enabled/app.lua

    restart: always
    stdin_open: true
    tty: true
    # environment:
    #      TARANTOOL_USER_NAME:
    #      TARANTOOL_USER_PASSWORD:
    #      TARANTOOL_PORT:
    #      TARANTOOL_REPLICATION_SOURCE:
    #      TARANTOOL_SLAB_ALLOC_ARENA:
    #      TARANTOOL_SLAB_ALLOC_FACTOR:
    #      TARANTOOL_SLAB_ALLOC_MAXIMAL:
    #      TARANTOOL_SLAB_ALLOC_MINIMAL:
    #      TARANTOOL_SNAPSHOT_PERIOD:
    ports:
      - 3301:3301
    volumes:
      - ./apps:/usr/local/etc/tarantool/instances.enabled
#      - /c/work/project/stage/golos/golos.io/packages/golos.queue/tarantool/apps:/usr/local/etc/tarantool/instances.enabled
#      - /e/_data/golos/tarantool/data:/var/lib/tarantool
#      - /e/_data/golos/tarantool/log:/var/log/tarantool
# now the following works
#      - c:\work\project\stage\golos\golos.io\packages\queue.golos.lib\tarantool\test\apps:/usr/local/etc/tarantool/instances.enabled
#      - e:\_data\golos\tarantool\data:/var/lib/tarantool
#      - e:\_data\golos\tarantool\log:/var/log/tarantool
    networks:
      - dev
# volumes:
#   node.data:
#   mysql.data:
#   #  queue.data:

networks:
  dev:
